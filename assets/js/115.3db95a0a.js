(window.webpackJsonp=window.webpackJsonp||[]).push([[115],{443:function(v,_,a){"use strict";a.r(_);var t=a(4),e=Object(t.a)({},(function(){var v=this,_=v._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[_("h4",{attrs:{id:"简介"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[v._v("#")]),v._v(" 简介")]),v._v(" "),_("p",[v._v("IP地址是位于第三层（网络层）的一个协议，它分为IPv4和IPv6，我们着重讨论IPv4。\nIPv4地址是由一组32位的二进制数组合而成，为了方便人类观看，亦可转换为十进制表示，如"),_("code",[v._v("192.168.1.1")]),v._v("。")]),v._v(" "),_("h4",{attrs:{id:"地址分类"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#地址分类"}},[v._v("#")]),v._v(" 地址分类")]),v._v(" "),_("p",[v._v("IPv4地址被划分为两个分段，分别是网络段和主机段。\nIPv4地址也被分为4类")]),v._v(" "),_("h6",{attrs:{id:"a类地址"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#a类地址"}},[v._v("#")]),v._v(" A类地址")]),v._v(" "),_("p",[v._v("地址范围"),_("code",[v._v("1.0.0.0")]),v._v("到"),_("code",[v._v("127.255.255.255")]),v._v("\n私网地址 "),_("code",[v._v("10.0.0.0")])]),v._v(" "),_("h6",{attrs:{id:"b类地址"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#b类地址"}},[v._v("#")]),v._v(" B类地址")]),v._v(" "),_("p",[v._v("地址范围"),_("code",[v._v("128.0.0.0")]),v._v("到"),_("code",[v._v("191.255.255.255")]),v._v("\n私网地址 "),_("code",[v._v("172.16.0.0")]),v._v("到"),_("code",[v._v("172.31.0.0")])]),v._v(" "),_("h6",{attrs:{id:"c类地址"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#c类地址"}},[v._v("#")]),v._v(" C类地址")]),v._v(" "),_("p",[v._v("地址范围"),_("code",[v._v("192.0.0.0")]),v._v("到"),_("code",[v._v("223.255.255.255")]),v._v("\n私网地址"),_("code",[v._v("192.168.0.0")]),v._v("到"),_("code",[v._v("192.168.255.0")])]),v._v(" "),_("h6",{attrs:{id:"d类地址"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#d类地址"}},[v._v("#")]),v._v(" D类地址")]),v._v(" "),_("p",[v._v("多播、组播地址\n地址范围"),_("code",[v._v("224.0.0.0")]),v._v("到"),_("code",[v._v("239.255.255.255")]),v._v(" "),_("code",[v._v("224.0.0.1")]),v._v("特指所有主机")]),v._v(" "),_("h4",{attrs:{id:"网络号与广播号"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#网络号与广播号"}},[v._v("#")]),v._v(" 网络号与广播号")]),v._v(" "),_("p",[v._v("在地址中，头尾两个地址通常不使用，因为是留作网络号和广播号的。\n所谓网络号，例如"),_("code",[v._v("192.168.1.0")]),v._v("，为了表示"),_("code",[v._v("192.168.1.1~192.168.1.254")]),v._v("\n所谓广播号，即是指"),_("code",[v._v("192.168.1.255")])]),v._v(" "),_("h6",{attrs:{id:"主机数量计算"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#主机数量计算"}},[v._v("#")]),v._v(" 主机数量计算")]),v._v(" "),_("p",[v._v("假设我们有个网段是"),_("code",[v._v("192.168.1.0/24")]),v._v("，我想知道能分配多少个主机使用。\n首先，我们知道完整的地址是32位的，并且已经有24为被划分为网络位，因此主机位只剩下8位。\n我们可以得出"),_("code",[v._v("2^8=256")]),v._v("，但由于网络号和主机号的占用，因此实际上我们只有"),_("code",[v._v("2^8=256 - 2 = 254")])]),v._v(" "),_("h6",{attrs:{id:"为什么要广播号"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#为什么要广播号"}},[v._v("#")]),v._v(" 为什么要广播号")]),v._v(" "),_("p",[_("img",{attrs:{src:"/more/Pasted%20image%2020221213171531.png",alt:"avatar"}})]),v._v(" "),_("p",[v._v("假设我们有个网络环境，该网络环境下连接着多台设备，但不幸的是路由器R损毁了，我们要更换一个新的路由器，在更换后，网关IP仍然保持不变（因为是人为设定的），但网关的MAC地址却发生了变化，这导致了该网络内的所有主机因找不到网关MAC，无法访问互联网。")]),v._v(" "),_("p",[v._v("我们在先前ARP协议中说到过，设备可以通过主动发送ARP报文去获取指定IP设备的最新MAC地址，但实际情况下，我们可能有成百上千台设备，这种方式效率太低了，因此我们要利用到IP的广播号实现该需求。")]),v._v(" "),_("p",[v._v("新路由器会主动发送一条报文，其中包括了"),_("code",[v._v("发送方IP")]),v._v("、"),_("code",[v._v("接收方IP")]),v._v("、"),_("code",[v._v("发送方MAC")]),v._v("、"),_("code",[v._v("接收方MAC")]),v._v("，\n由于我们希望所有设备能收到该报文并更新，因此"),_("code",[v._v("发送方IP")]),v._v("、"),_("code",[v._v("发送方MAC")]),v._v("、"),_("code",[v._v("接收方MAC")]),v._v("都能知道填写什么值，但唯独"),_("code",[v._v("接收方IP")]),v._v("我们不知道，这时就需要IP广播号了，当我们填写"),_("code",[v._v("255")]),v._v("时所有主机设备在收到包后会查看到并选择"),_("strong",[v._v("接收")]),v._v("而不是"),_("strong",[v._v("丢弃")]),v._v("。")]),v._v(" "),_("h4",{attrs:{id:"子网划分"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#子网划分"}},[v._v("#")]),v._v(" 子网划分")]),v._v(" "),_("p",[v._v("上述说明中，我们提及了一个概念\n"),_("code",[v._v("192.168.1.0/24")]),v._v("，这是默认情况下C类网络的划分方式，但实际情况下，我们的网络可能只是一个家庭网络，并不需要那么多主机号，因此我们可以通过子网划分对默认的网络进行进一步划分。")]),v._v(" "),_("p",[v._v("我们知道IPv4地址是由32位组成的，上述的例子可以看见默认情况是前24位作为网络号，当转化为二进制后，地址将变成"),_("code",[v._v("11111111 11111111 11111111 00000000")]),v._v("，在这种情况下，我们知道有256(包含网络号和广播号)个主机地址。但当地址变为"),_("code",[v._v("11111111 11111111 11111111 10000000")]),v._v("时，我们单个子网可使用的地址就减少了，因为"),_("code",[v._v("2^7=128")]),v._v("，我们可以通过手动划分网络位来修改子网的规模。但实际上，我们只是划分了子网的大小，总数还是不变的")]),v._v(" "),_("h6",{attrs:{id:"奇葩的网络地址"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#奇葩的网络地址"}},[v._v("#")]),v._v(" 奇葩的网络地址")]),v._v(" "),_("p",[_("code",[v._v("100.1.1.1/32")]),v._v("，这对于我们先前所说的情况有些异类，因为先前的例子都是需要至少一个网段地址和广播地址，但很明显"),_("code",[v._v("/32")]),v._v("有且只有一个地址，")])])}),[],!1,null,null,null);_.default=e.exports}}]);