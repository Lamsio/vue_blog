(window.webpackJsonp=window.webpackJsonp||[]).push([[123],{452:function(v,t,a){"use strict";a.r(t);var _=a(4),e=Object(_.a)({},(function(){var v=this,t=v._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[t("p",[v._v("ENSP类似于Cisco packet tracer，是华为设备的环境模拟器。")]),v._v(" "),t("h4",{attrs:{id:"视图结构"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#视图结构"}},[v._v("#")]),v._v(" 视图结构")]),v._v(" "),t("p",[t("img",{attrs:{src:"/more/Pasted%20image%2020221214145319.png",alt:"avatar"}})]),v._v(" "),t("p",[v._v("与Cisco packet tracer类似，分为了4层结构，当进入n+1层时，必须当前处于n层。")]),v._v(" "),t("h4",{attrs:{id:"vty"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vty"}},[v._v("#")]),v._v(" VTY")]),v._v(" "),t("p",[v._v("通常情况下，我们在现实情况中，如果想配置一台设备，必须用console线连接电脑和设备，但当我们外出工作时，并不可能时时刻刻都在设备旁，因此我们需要远程访问设备，而VTY则是提供了这种功能。\nVTY是基于TCP进行远程访问的，认证模式主要是"),t("code",[v._v("AAA")]),v._v("和"),t("code",[v._v("PASSWORD")]),v._v("。")]),v._v(" "),t("p",[v._v("我们可以在设备上开启VTY以对外提供远程控制。")]),v._v(" "),t("p",[v._v("在系统视图下使用"),t("code",[v._v("user-interface vty 0 4")]),v._v("即可对外提供vty0~vty4，共计五个输出口的访问服务。\n在进入到"),t("code",[v._v("[ui-vty0-4]")]),v._v("模式后，通过"),t("code",[v._v("authentication-mode")]),v._v("即可设置验证方式，具体通过?查询")]),v._v(" "),t("p",[v._v("在设置完验证模式后，切记设置权限等级"),t("code",[v._v("user privilege level [等级]")]),v._v("，通常3以上是管理员权限，反之则是访客权限")]),v._v(" "),t("h4",{attrs:{id:"路由选路"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#路由选路"}},[v._v("#")]),v._v(" 路由选路")]),v._v(" "),t("p",[v._v("通常情况下，路由选路时应考虑以下几个点")]),v._v(" "),t("ul",[t("li",[v._v("到达目的地的跳数")]),v._v(" "),t("li",[v._v("线路带宽")]),v._v(" "),t("li",[v._v("延时")]),v._v(" "),t("li",[v._v("丢包率")]),v._v(" "),t("li",[v._v("负载")])]),v._v(" "),t("p",[v._v("我们在ENSP中可以通过 "),t("code",[v._v("[Huawei] display ip routing-table")]),v._v("查询设备维护的路由表")]),v._v(" "),t("p",[t("img",{attrs:{src:"/more/Pasted%20image%2020221214163415.png",alt:"avatar"}})]),v._v(" "),t("p",[v._v("假设我们有一个路由表如上图所示，当发送一个ICMP包，IP"),t("code",[v._v("9.1.0.1")]),v._v("，请问该选哪个？\n很明显，这个目的IP符合上述两个路由条目，我们遵循最长MASK，也就是越具体越好，因此选第二个。")]),v._v(" "),t("p",[v._v("总结，当路由匹配到多个符合的路由条目时，选择最长掩码，如果掩码一致则对比路由协议的优先级，如果仍然一致则对比开销。优先级数值越小，越优先。\n通常直连是0，静态是60，各动态路由协议不一，具体优先级可以查询Google。")]),v._v(" "),t("h4",{attrs:{id:"直连路由"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#直连路由"}},[v._v("#")]),v._v(" 直连路由")]),v._v(" "),t("p",[v._v("这是最基本的路由，即设备间通过直连线路可以相互知道对方的存在，这点有点类似之前提到的ARP协议，两个同广播域下的设备可以通过发送ARP报文探知到对方的存在。但倘若不在同一广播域下，则无法回包，因为接收方并没有发送方的路由信息，因此无法回复。")]),v._v(" "),t("h4",{attrs:{id:"静态路由"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#静态路由"}},[v._v("#")]),v._v(" 静态路由")]),v._v(" "),t("p",[v._v("当我们需要跨广播域交流时，路由需要维护一张路由表用于传递往来的数据包，如果管理员知道整个路由拓扑的结构，那么就可以直接手动配置路由条目。")]),v._v(" "),t("p",[t("img",{attrs:{src:"/more/Pasted%20image%2020221214213535.png",alt:"avatar"}})]),v._v(" "),t("p",[v._v("以上图为例，假设AR1想与AR3交流，那么他们（AR1,AR3）必须相互配置静态路由条目，我们可以在系统视图下通过"),t("code",[v._v("ip route-static [目标网段] [目标掩码] [下一跳IP]")]),v._v("进行配置，但一定要配置双向的，毕竟数据包是有来有回的。")]),v._v(" "),t("p",[v._v("我们可以通过"),t("code",[v._v("display ip routing-table")]),v._v("查看设备的路由表条目")])])}),[],!1,null,null,null);t.default=e.exports}}]);