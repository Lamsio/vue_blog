(window.webpackJsonp=window.webpackJsonp||[]).push([[133],{463:function(a,t,s){"use strict";s.r(t);var v=s(4),_=Object(v.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h2",{attrs:{id:"acl-访问控制列表"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#acl-访问控制列表"}},[a._v("#")]),a._v(" ACL 访问控制列表")]),a._v(" "),t("p",[a._v("ACL主要功能:")]),a._v(" "),t("ol",[t("li",[a._v("流量控制")]),a._v(" "),t("li",[a._v("匹配感兴趣的流量")])]),a._v(" "),t("p",[a._v("ACL类型：")]),a._v(" "),t("ol",[t("li",[a._v("标准访问控制列表")]),a._v(" "),t("li",[a._v("扩展访问控制列表")])]),a._v(" "),t("p",[a._v("ACL仅能对穿越的流量做限制，由路由器自身发送的不会被限制")]),a._v(" "),t("p",[t("img",{attrs:{src:"/more/test.png",alt:"avatar"}})]),a._v(" "),t("p",[a._v("在某些情况下，我们希望接入同一台路由器的两台主机，一台能正常访问，另一台禁止访问。")]),a._v(" "),t("h4",{attrs:{id:"标准访问控制列表"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#标准访问控制列表"}},[a._v("#")]),a._v(" 标准访问控制列表")]),a._v(" "),t("ul",[t("li",[a._v("只根据源地址做给过滤")]),a._v(" "),t("li",[a._v("针对整个协议采取相关动作")])]),a._v(" "),t("p",[t("strong",[a._v("只根据源地址做给过滤")]),a._v("\n例如，路由器希望限制PC A访问子网B是可以的，但如果希望仅限制访问子网B中的PC K是不行的，要么全禁要么全开")]),a._v(" "),t("p",[t("strong",[a._v("针对整个协议采取相关动作")]),a._v("\n你不能说禁了PC B的HTTP协议流量，不禁其他协议的流量。一旦禁，就一定会全部禁止")]),a._v(" "),t("h4",{attrs:{id:"扩展访问控制列表"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#扩展访问控制列表"}},[a._v("#")]),a._v(" 扩展访问控制列表")]),a._v(" "),t("ul",[t("li",[a._v("能够根据源、目的地地址、端口号等进行过滤")]),a._v(" "),t("li",[a._v("能允许或拒绝特定的协议")])]),a._v(" "),t("p",[a._v("扩展访问控制列表算是对标准访问的弥补")]),a._v(" "),t("h4",{attrs:{id:"进站与出站"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#进站与出站"}},[a._v("#")]),a._v(" 进站与出站")]),a._v(" "),t("p",[a._v("![[Pasted image 20220603203642.png]]\nACL的判定分为进站和出站两种，对应的是in和out，如果端口设置是out，那么从该端口进站的流量不会受限制，只有进站流量对上in规则才会去判断是否符合条件触发")]),a._v(" "),t("h4",{attrs:{id:"acl标准设置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#acl标准设置"}},[a._v("#")]),a._v(" ACL标准设置")]),a._v(" "),t("p",[t("code",[a._v("Router(config)#access-list [ACL标识] [允许/拒绝] [源地址]")]),a._v("\n例如: "),t("code",[a._v("access-list 1 permit 192.168.1.0 0.0.0.255")]),a._v("\n注意，语句是分顺序的！语句1比语句10优先级更高，如果没有匹配上任何语句则丢弃。因此，当配置ACL时，请确保至少有一条permit配置在末尾\n"),t("code",[a._v("access-list 1 permit any")])]),a._v(" "),t("p",[t("code",[a._v("no access-list [ACL标识]")]),a._v("用于删除整个ACL列表")]),a._v(" "),t("p",[a._v("配置完ACL表后，还要将表应用在接口上。需要"),t("code",[a._v("interface f 0/0")]),a._v("进入要配置的接口然后输入\n"),t("code",[a._v("Router(config-if)#ip access-group [ACL标识] {in|out}")])]),a._v(" "),t("h6",{attrs:{id:"acl标识"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#acl标识"}},[a._v("#")]),a._v(" ACL标识")]),a._v(" "),t("p",[t("img",{attrs:{src:"/more/Pasted%20image%2020220603204904.png",alt:"avatar"}})]),a._v(" "),t("h6",{attrs:{id:"通配符"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#通配符"}},[a._v("#")]),a._v(" 通配符")]),a._v(" "),t("p",[t("img",{attrs:{src:"/more/Pasted%20image%2020220603210649.png",alt:"avatar"}})]),a._v(" "),t("p",[a._v("如上图，我们希望将"),t("code",[a._v("192.168.1.1~7")]),a._v("全部禁掉，如果我们一条条写肯定很麻烦！因此我们需要用到通配符，可以缩减成一条指令"),t("code",[a._v("access-list 1 deny 192.168.1.0 0.0.0.7")])]),a._v(" "),t("p",[t("img",{attrs:{src:"/more/Pasted%20image%2020220603211035.png",alt:"avatar"}})]),a._v(" "),t("h4",{attrs:{id:"acl扩展设置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#acl扩展设置"}},[a._v("#")]),a._v(" ACL扩展设置")]),a._v(" "),t("p",[a._v("由于扩展比标准的功能更加复杂，因此指令也比较繁琐。\n"),t("code",[a._v("access-list 100 {permit|deny} 协议号 源地址 通配符 目的地地址 通配符")])]),a._v(" "),t("h6",{attrs:{id:"例子"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#例子"}},[a._v("#")]),a._v(" 例子")]),a._v(" "),t("p",[t("img",{attrs:{src:"/more/Pasted%20image%2020220603212220.png",alt:"avatar"}})])])}),[],!1,null,null,null);t.default=_.exports}}]);